<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Controls development workspace</title>

  <link rel="stylesheet" href="/digitalpalireader/content/js/external/bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/digitalpalireader/content/js/external/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/_dprhtml/index-core.css" />
  <link rel="stylesheet" href="/_dprhtml/index.css">
  <link rel="stylesheet" href="/_dprhtml/styles.css">
  <link rel="stylesheet" href="/_dprhtml/index-override.css" />
</head>
<body>

  <div id="settings-pane" style="height: 25rem; border: 1px solid blue /* -------- remove this --------- */">
    <div id="settings-pane-tabs">
      <button class="settings-pane-tab" data-tabid="General" data-bind="click: updateActiveSettingsTab, css: { 'settings-pane-tab-selected': isGeneralSettingsTabSelected }">General</button>
      <button class="settings-pane-tab" data-tabid="Layout" data-bind="click: updateActiveSettingsTab, css: { 'settings-pane-tab-selected': isLayoutSettingsTabSelected }">Layout</button>
      <button class="settings-pane-tab" data-tabid="Text" data-bind="click: updateActiveSettingsTab, css: { 'settings-pane-tab-selected': isTextSettingsTabSelected }">Text</button>
    </div>
    <div id="settings-pane-tab-panes">
      <div id="settings-pane-tab-panes-general" class="settings-pane-tab-pane" data-bind="visible: isGeneralSettingsTabSelected">
        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-2col-grid">
          <div class="settings-pane-tab-pane-section-header">Show in Text</div>

          <input id="showPages" name="showPages" type="checkbox" />
          <label for="showPages">Page Numbers</label>

          <input id="showPagesFull" name="showPagesFull" type="checkbox" />
          <label for="showPagesFull">Full Page Numbers</label>

          <input id="showVariants" name="showVariants" type="checkbox" />
          <label for="showVariants">Variant Readings</label>

          <input id="showVariantsInline" name="showVariantsInline" type="checkbox" />
          <label for="showVariantsInline">Variants Inline</label>

          <input id="showPermalinks" name="showPermalinks" type="checkbox" />
          <label for="showPermalinks">Permalinks</label>

          <input id="showNames" name="showNames" type="checkbox" />
          <label for="showNames">DPPN Links</label>

          <input id="showPedLinks" name="showPedLinks" type="checkbox" />
          <label for="showPedLinks">Add Word Links to PED Entries</label>
        </div>
        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-2col-grid">
          <div class="settings-pane-tab-pane-section-header">Misc. Preferences</div>

          <input id="nigahita" name="nigahita" type="checkbox" />
          <label for="nigahita">Use ṁ instead of ṃ</label>

          <input id="ctrans" name="ctrans" type="checkbox" />
          <label for="ctrans">Show Translations</label>

          <input id="autodict" name="autodict" type="checkbox" />
          <label for="autodict">Enable Dictionary search-as-you-type</label>

          <input id="copyWord" name="copyWord" type="checkbox" />
          <label for="copyWord">Copy words to clipboard on click</label>

          <div style="grid-column: 1 / 3; grid-row: span 2;">
            <div>Show context menu item:</div>
            <div style="display: flex;">
              <input class="mr-1" type="radio" id="allContext" name="selectMode" selecte="true">
              <label class="mr-3" for="male">always</label><br>
              <input class="mr-1" type="radio" id="contextSelected" name="selectMode">
              <label class="mr-3" for="female">when text selected</label><br>
              <input class="mr-1" type="radio" id="noContext" name="selectMode" />
              <label class="mr-3" for="other">never</label>
            </div>
          </div>

          <div style="grid-column: 1 / 3">
            <div style="display: flex;">
              <label for="paltlimit" style="white-space: nowrap;">Maximum Definitions Per Compound:</label>
              <input class="ml-1" id="paltlimit" name="paltlimit" type="text" maxlength="16" />
            </div>
          </div>
        </div>
      </div>

      <div id="settings-pane-tab-panes-layout" class="settings-pane-tab-pane" data-bind="visible: isLayoutSettingsTabSelected">
        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-4col-grid">
          <div class="settings-pane-tab-pane-section-header">Page Background</div>

          <input id="pcolbk" name="pcolbk" type="checkbox" />
          <label class="ml-1" for="pcolbk">Color</label>
          <input class="ml-1" id="colbk" name="colbk" type="text" maxlength="16" style="justify-self: stretch;" />
          <input class="ml-1" id="colbkc" type="color" value="#ff0000" />

          <input id="pimgbk" name="pimgbk" type="checkbox" />
          <label class="ml-1" for="pimgbk">Image</label>
          <input class="ml-1 mr-0" id="imgbk" name="imgbk" type="text" style="grid-column: 3 / span 2; justify-self: stretch;" />
        </div>

        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-3col-grid">
          <div class="settings-pane-tab-pane-section-header">Other colors</div>

          <label for="colInput">Input Boxes</label>
          <input class="ml-1" id="colInput" name="colInput" type="text" maxlength="16" style="justify-self: stretch;" />
          <input class="ml-1" id="colInputc" type="color" value="#ff0000" />

          <label for="colButton">Buttons (normal)</label>
          <input class="ml-1" id="colButton" name="colButton" type="text" maxlength="16" style="justify-self: stretch;" />
          <input class="ml-1" id="colButtonc" type="color" value="#ff0000" />

          <label for="colButtonSel">Buttons (on hover)</label>
          <input class="ml-1" id="colButtonSel" name="colButtonSel" type="text" maxlength="16" style="justify-self: stretch;" />
          <input class="ml-1" id="colButtonSelc" type="color" value="#ff0000" />
        </div>

        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-4col-grid">
          <div class="settings-pane-tab-pane-section-header">Sidebar Background</div>

          <input id="pcolbkcp" name="pcolbkcp" type="checkbox" />
          <label class="ml-1" for="pcolbkcp">Color</label>
          <input class="ml-1" id="colbkcp" name="colbkcp" type="text" maxlength="16" style="justify-self: stretch;" />
          <input class="ml-1" id="colbkcpc" type="color" value="#ff0000" />

          <input id="pimgbkcp" name="pimgbkcp" type="checkbox" />
          <label class="ml-1" for="pimgbkcp">Image</label>
          <input class="ml-1 mr-0" id="imgbkcp" name="imgbkcp" type="text" size="20" style="grid-column: 3 / span 2; justify-self: stretch;" />
        </div>

        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-2col-grid">
          <div class="settings-pane-tab-pane-section-header">Misc.</div>

          <label for="setRows" style="justify-self: stretch; white-space: nowrap;" >Sidebar Set Rows</label>
          <input class="ml-1 mr-0" id="setRows" name="setRows" type="text" size="20" style="justify-self: stretch;" />
        </div>
      </div>
      <div id="settings-pane-tab-panes-text" class="settings-pane-tab-pane" data-bind="visible: isTextSettingsTabSelected">
        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-3col-grid">
          <div class="settings-pane-tab-pane-section-header">Text colors</div>

          <label for="coltext">Normal</label>
          <input class="ml-1" id="coltext" name="coltext" type="text" maxlength="16" style="justify-self: stretch;"/>
          <input class="ml-1" id="coltextc" type="color" value="#ff0000" />

          <label for="colsel">Selected</label>
          <input class="ml-1" id="colsel" name="colsel" type="text" maxlength="16" style="justify-self: stretch;"/>
          <input class="ml-1" id="colselc" type="color" value="#ff0000" />

          <label for="coldppn">DPPN</label>
          <input class="ml-1" id="coldppn" name="coldppn" type="text" maxlength="16" style="justify-self: stretch;"/>
          <input class="ml-1" id="coldppnc" type="color" value="#ff0000" />

          <label for="colped">PED</label>
          <input class="ml-1" id="colped" name="colped" type="text" maxlength="16" style="justify-self: stretch;"/>
          <input class="ml-1" id="colpedc" type="color" value="#ff0000" />

          <label for="colcpd">CPED</label>
          <input class="ml-1" id="colcpd" name="colcpd" type="text" maxlength="16" style="justify-self: stretch;"/>
          <input class="ml-1" id="colcpdc" type="color" value="#ff0000" />
        </div>
        <div class="settings-pane-tab-pane-section settings-pane-tab-pane-section-2col-grid">
          <div class="settings-pane-tab-pane-section-header">Text formatting</div>

          <label for="colfont" style="white-space: nowrap;">Font Family</label>
          <input class="ml-1" id="colfont" name="colfont" type="text" maxlength="16" style="justify-self: stretch;"/>

          <label for="colsize" style="white-space: nowrap;">Text Size</label>
          <input class="ml-1" id="colsize" name="colsize" type="text" maxlength="16" style="justify-self: stretch;"/>

          <label for="translits" style="white-space: nowrap;">Text Script</label>
          <select class="ml-1" id="translits" style="justify-self: stretch;">
            <option value="0">Roman</option>
            <option value="1">Thai</option>
            <option value="2">Devanagari</option>
            <option value="3">Myanmar</option>
            <option value="4">Sinhala</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <script src="/digitalpalireader/content/js/external/jquery-3.4.1.min.js"></script>
  <script src="/digitalpalireader/content/js/external/ajax/libs/knockout/3.5.0/knockout-min.js"></script>
  <script type="text/javascript">
    class SettingsDialogTabsViewModel {
      constructor() {
        this.isGeneralSettingsTabSelected = ko.observable(true);
        this.isLayoutSettingsTabSelected = ko.observable(false);
        this.isTextSettingsTabSelected = ko.observable(false);
      }

      updateActiveSettingsTabId(tabId) {
        Object
          .entries(this)
          .filter(([n, _]) => n.indexOf("TabSelected") !== -1)
          .forEach(([_, fn]) => fn(false));

        this[`is${tabId}SettingsTabSelected`](true);
      }

      updateActiveSettingsTab(_, event) {
        this.updateActiveSettingsTabId($(event.currentTarget).data("tabid"));
      }
    }

    ko.applyBindings(new SettingsDialogTabsViewModel(), $(`#settings-pane`)[0]);
  </script>

</body>
</html>
